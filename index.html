<!DOCTYPE html>
<html lang="ar">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="shortcut icon" href="./img/fennec.png" type="image/x-icon">

    <meta property="og:title" content="Fennec Role-Play Server">
    <meta property="og:description" content="Join the Fennec Roleplay Server for a thrilling GTA V RP experience with exciting jobs, events, and a vibrant community.">
    <meta property="og:image" content=".img/fennec.png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:url" content="https://Fennec-RolePlay.com/">
    <meta property="og:type" content="website">
    <meta name="twitter:card" content="summary_large_image">
    
    
    <title>Fennec ROLE-PLAY SERVER</title>
</head>
<body>
    <div id="loading-screen">
        <div class="loading-spinner"></div>
        <p>Loding...</p>
    </div>

    <div id="snowflakes"></div>

    <div class="epcontent" style="display: none;">
        <header class="navbar">
            <div class="logo-navbar"><img src="./img/Fennec-logo.png" alt="Fennec Logo"></div>
            <div class="nav_total_p">
                <span id="nav_total_p_span">0</span>
                <i class="fa-solid fa-user-group"></i>
                <p>TOTAL PLAYERS ONLINE</p>
            </div>
            
            <nav class="nav-links">
                <a id="home-link" href="index.html">Home</a>
                <a id="whitelist-link" href="ip.html">Whitelist IP</a>
                <a id="rules-link" href="rules.html">Server Rules</a>
                <a id="cars-link" href="javascript:void(0);" onclick="showClosedMessage()">CARS</a> <!-- تم تعديل الرابط هنا -->
            </nav>
            
            <script>

            </script>
            
            <script>
                async function getPlayerCount() {
                    const apiUrl = 'https://servers-frontend.fivem.net/api/servers/single/k9kbz7'; 
                    try {
                        const response = await fetch(apiUrl); 
                        const data = await response.json(); 
                        const playerCount = data.Data.players.length; 
        
                        document.getElementById('nav_total_p_span').textContent = playerCount;
                    } catch (error) {
                        console.error('Error fetching player count:', error);
                        document.getElementById('nav_total_p_span').textContent = 'Error';
                    }
                }
                window.onload = getPlayerCount;
            </script>
        
            <div>
                <a href="https://discord.gg/v8XhjYFZYJ" class="play-nav" target="_blank">
                    <i class="fa-brands fa-discord"></i> DISCORD SERVER
                </a>
            </div>
        </header>
        
        <div class="container">
            <a href="ip.html" class="card1">
                <div class="overlay"></div>
            </a>
            
            <a href="fivem://connect/ippp" class="card-main" style="background-image: url('./img/jn.png');">
                <div class="overlay"></div>
            </a>
            
            <a href="rules.html" class="card2">
                <div class="overlay"></div>
            </a>        
        </div>
        
        <script>
            document.addEventListener('DOMContentLoaded', () => {
                const cardMain = document.querySelector('.card-main');
                const card1 = document.querySelector('.card1');
                const card2 = document.querySelector('.card2');
                const body = document.body;
                
                const originalCard1Bg = card1.style.backgroundImage;
                const originalCard2Bg = card2.style.backgroundImage;
                const originalBodyBg = body.style.backgroundImage;
                const originalCardMainBg = cardMain.style.backgroundImage;
                
                cardMain.addEventListener('mouseenter', () => {
                    card1.style.backgroundImage = 'url("./img/wliph.png")';  
                    card2.style.backgroundImage = 'url("./img/rulesh.png")'; 
                    body.style.backgroundImage = 'url("./img/hover-BG.png")';
                    cardMain.style.backgroundImage = 'url("./img/jn.png")'; 
                });
                
                cardMain.addEventListener('mouseleave', () => {
                    card1.style.backgroundImage = originalCard1Bg;
                    card2.style.backgroundImage = originalCard2Bg;
                    body.style.backgroundImage = originalBodyBg;
                    cardMain.style.backgroundImage = originalCardMainBg;
                });
            });
        </script>

    </div>

    <div class="epmessage">
        <h3>Fennec RolePlay Server</h3>
         عذرًا، هذا المحتوى غير متوفر للهواتف و للشاشات الأصغر من 1200 بكسل. يرجى استخدام شاشة أكبر او تكبير النافذة للوصول إلى المحتوى
    </div>

    <script>
        // const epcontent = document.querySelector('.epcontent');
        // const epmessage = document.querySelector('.epmessage');
    
        // function toggleVisibility() {
        //   if (window.innerWidth < 1200) {
        //     epcontent.style.display = 'none';
        //     epmessage.style.display = 'block';
        //   } else {
        //     epcontent.style.display = 'block';
        //     epmessage.style.display = 'none';
        //   }
        // }
    
        // window.addEventListener('resize', toggleVisibility);
        // window.addEventListener('load', toggleVisibility);
        function createSnowflake() {
            const snowflake = document.createElement('div');
            snowflake.classList.add('snowflake');
            
            const size = Math.random() * 5 + 2; 
            snowflake.style.width = `${size}px`;
            snowflake.style.height = `${size}px`;
        
            snowflake.style.left = `${Math.random() * 100}vw`;
            
            snowflake.style.animationDuration = `${Math.random() * 7 + 4}s`;
        
            document.getElementById('snowflakes').appendChild(snowflake);
        
            setTimeout(() => {
                snowflake.remove();
            }, 5000);
        }
        setInterval(createSnowflake, 200);
    </script>

    <script>
        const epcontent = document.querySelector('.epcontent');
        const epmessage = document.querySelector('.epmessage');
        const loadingScreen = document.getElementById('loading-screen');

        function preloadImages(images) {
            return Promise.all(images.map(src => {
                return new Promise((resolve, reject) => {
                    const img = new Image();
                    img.src = src;
                    img.onload = resolve;
                    img.onerror = reject;
                });
            }));
        }

        function showContent() {
            loadingScreen.style.display = 'none';
            toggleVisibility();
        }

        function toggleVisibility() {
            if (window.innerWidth < 1200) {
                epcontent.style.display = 'none';
                epmessage.style.display = 'block';
            } else {
                epcontent.style.display = 'block';
                epmessage.style.display = 'none';
            }
        }

        window.addEventListener('resize', toggleVisibility);

        window.addEventListener('load', () => {
            const images = [
                './img/Fennec-logo.png',
                './img/wliph.png',
                './img/rulesh.png',
                './img/hover-BG.png',
                './img/jn.png'
            ];

            preloadImages(images)
                .then(showContent)
                .catch(error => {
                    console.error('error', error);
                    showContent(); 
                });
        });
    </script>

    <script>
        // وظيفة لإظهار الرسالة عند النقر على رابط "CARS"
        function showClosedMessage() {
            alert("soonn");
        }
    </script>

    <script src="./js/script.js"></script>
</body>
</html>
